<!DOCTYPE html>
<html>
<head>
    <title>feature-ancestor-grid-1.0.1</title>
    <!--  (c) 2017 CA Technologies.  All Rights Reserved. -->
    <!--  Build Date: Tue Feb 14 2023 16:24:45 GMT-0600 (Central Standard Time) -->

    <script type="text/javascript">
        var APP_BUILD_DATE = "Tue Feb 14 2023 16:24:45 GMT-0600 (Central Standard Time)";
        var CHECKSUM = 20822735004;
    </script>

    <script type="text/javascript" src="/apps/2.1/sdk.js"></script>
    <!-- our highcharts (needed so that we can add patterns)
    <script type="text/javascript" src="/apps/2.1/lib/analytics/analytics-all.js"></script>
    -->


    <script type="text/javascript">
        Rally.onReady(function() {
            Ext.define("Rally.technicalservices.InfoLink",{extend:"Rally.ui.dialog.Dialog",alias:"widget.tsinfolink",informationHtml:null,title:"Build Information",defaults:{padding:5,margin:5},closable:!0,draggable:!0,autoShow:!0,width:350,informationalConfig:null,items:[{xtype:"container",itemId:"information"}],initComponent:function(){Ext.id(this);this.title="<span class='icon-help'> </span>"+this.title,this.callParent(arguments)},_generateChecksum:function(a){var b,c=305419896;for(a=a.replace(/var CHECKSUM = .*;/,""),a=a.replace(/var BUILDER = .*;/,""),a=a.replace(/\s/g,""),b=0;b<a.length;b++)c+=a.charCodeAt(b)*b;return c},_checkChecksum:function(a){var b=Ext.create("Deft.Deferred"),c=this;return Ext.Ajax.request({url:document.URL,params:{id:1},success:function(a){if(text=a.responseText,CHECKSUM){var d=c._generateChecksum(text);if(CHECKSUM!==d)return void b.resolve(!1)}b.resolve(!0)}}),b.promise},_addToContainer:function(a){var b=Ext.apply({xtype:"container",height:200,overflowY:!0},this.informationalConfig);a.add(b)},afterRender:function(){var a=Rally.getApp();if(!Ext.isEmpty(this.informationalConfig)){var b=this.down("#information");this._addToContainer(b)}a.isExternal()?this.addDocked({xtype:"container",cls:"build-info",padding:2,dock:"bottom",html:"... Running externally"}):this._checkChecksum(a).then({scope:this,success:function(a){a||this.addDocked({xtype:"container",cls:"build-info",dock:"bottom",padding:2,html:'<span class="icon-warning"> </span>Checksums do not match'})},failure:function(a){console.log("oops:",a)}}),this.callParent(arguments)},beforeRender:function(){this.callParent(arguments),this.informationHtml&&this.addDocked({xtype:"component",componentCls:"intro-panel",padding:2,html:this.informationHtml,doc:"top"}),this.addDocked({xtype:"container",cls:"build-info",padding:2,dock:"bottom",html:"This app was created by the CA AC Technical Services Team."}),APP_BUILD_DATE&&this.addDocked({xtype:"container",cls:"build-info",padding:2,dock:"bottom",html:Ext.String.format("Build date/time: {0} ({1})",APP_BUILD_DATE,BUILDER)})}}),Ext.define("Rally.technicalservices.Logger",{constructor:function(a){Ext.apply(this,a)},log:function(a){var b="[ "+Ext.util.Format.date(new Date,"Y-m-d H:i:s.u")+" ]",c=[];c=Ext.Array.push(c,[b]),c=Ext.Array.push(c,Ext.Array.slice(arguments,0)),window.console&&console.log.apply(console,c)}}),Ext.define("RallyTechServices.inlinefilter.AncestorFilterRow",{alias:"widget.rallyancestorfilterrow",extend:"Rally.ui.inlinefilter.AdvancedFilterRow",layout:"hbox",bubbleEvents:["filterchange"],cls:"advanced-filter-row",flex:2,config:{context:void 0,model:void 0,autoExpand:!1,name:void 0,operator:void 0,rawValue:void 0,addButtonEnabled:!1,removeButtonEnabled:!1,ancestorFieldConfig:{},propertyFieldConfig:{},operatorFieldConfig:{},focusPropertyField:!1},isValid:function(){return this._hasPropertySelected()&&this._hasOperatorSelected()&&this._valueFieldIsValid()},_getpiName:function(){if(!this.piName){var a=this.ancestorField&&this.ancestorField.getStore()&&this.ancestorField.getStore().getRange();Ext.Array.each(a,function(a){if(0===a.get("Ordinal")){var b=a.get("TypePath");this.piName=b.replace("PortfolioItem/","")}},this)}return this.piName},getFilter:function(){if(this.isValid()){var a=this.ancestorField.getRecord(),b=this.propertyField.lastValue,c=this.operatorField.lastValue,d=this.valueField,e=Ext.isEmpty(d.lastValue)?null:d.lastValue,f=Rally.util.Ref.isRefUri(e),g=_.isNumber(Rally.util.Ref.getOidFromRef(e));if(f&&g&&"_ref"===d.valueField&&d.noEntryValue!==e){var h=d.getRecord();if(h){var i=h.get("_uuidRef");i&&(e=i)}}if(a&&a.get("TypePath")){var j=a.get("Ordinal"),k=["Parent"];if(1===j)k.push(b);else{for(var l=1;j>l;l++)k.push("Parent");k.push(b)}b=k.join(".")}var m=Rally.data.wsapi.Filter.fromExtFilter({property:b,operator:c,value:e});return d.allowNoEntry&&d.noEntryValue===e&&(m.value=null),Ext.apply(m,{name:b,rawValue:e,filterIndex:this.filterIndex}),console.log("line 98: filter is ",m),m}},_fixPropertyFieldInIE:function(){Ext.isIE10m&&this.propertyField.inputEl&&this.propertyField.setValue(this.propertyField.getValue())},_onTypeAncestorStoreLoad:function(a,b){var c=this.name&&this.name.split("."),d=void 0,e=null;c&&c.length>1&&(d=c.length-2),Ext.Array.each(b,function(a){if(1===a.get("Ordinal")){var b=a.get("TypePath");this.piName=b.replace("PortfolioItem/","")}return d===a.get("Ordinal")?(e=a.get("TypePath"),!1):void 0},this),e&&(this.name=c.slice(-1)[0],this.ancestorField.setValue(e),this.originalName=this.name,this.originalOperator=this.operator,this.originalValue=this.rawValue,this._onAncestorSelect(this.ancestorField))},_createAncestorField:function(){this.ancestorField=Ext.widget(Ext.merge({xtype:"rallycombobox",itemId:"ancestorField",autoExpand:this.autoExpand,storeConfig:{model:"TypeDefinition",fetch:["TypePath","DisplayName","Ordinal","Name"],filters:[{property:"TypePath",operator:"contains",value:"PortfolioItem/"},{property:"TypePath",operator:"!=",value:"PortfolioItem/Feature"}],autoLoad:!0,listeners:{load:this._onTypeAncestorStoreLoad,scope:this},remoteFilter:!0},allowNoEntry:!0,cls:"indexed-field property-field",width:100,labelAlign:"top",fieldLabel:"OBJECT",valueField:"TypePath",displayField:"Name",labelSeparator:"",noEntryText:"Feature",listeners:{select:this._onAncestorSelect,scope:this}},this.ancestorFieldConfig))},_createIndexLabel:function(){this.indexLabel=Ext.widget({xtype:"label",itemId:"indexLabel",cls:"index-label",hidden:!0,listeners:{el:{click:function(){this.propertyField.expand()},scope:this},afterrender:{fn:function(){this.indexLabel.el.show()},scope:this,single:!0}},text:this._getFilterIndexText(this.filterIndex)})},_getItems:function(){return this._createAddRowButton(),this._createRemoveRowButton(),this._createIndexLabel(),this._createAncestorField(),this._createPropertyField(),this._createOperatorField(),this._createValueField(),[this.addRowButton,this.removeRowButton,this.indexLabel,this.ancestorField,this.propertyField,this.operatorField,this.valueField]},_hasAncestorSelected:function(){return!!this.ancestorField.getValue()},_replacePropertyField:function(){var a=new Deft.Deferred;return this.name=this.originalName||void 0,this.propertyField.destroy(),this._createPropertyField(),this.propertyField.store.on("load",function(){a.resolve()}),this.add(this.propertyField),a.promise},_replaceOperatorField:function(){var a=new Deft.Deferred;return delete this.operator,this.operatorField.destroy(),this._createOperatorField(),this.operatorField.store.on("load",function(){this.originalOperator&&(this.operatorField.setValue(this.originalOperator),this._applyFilters(),delete this.originalOperator),a.resolve()},this),this.add(this.operatorField),a.promise},_replaceValueField:function(){return delete this.rawValue,this.rawValue=this.originalValue||void 0,delete this.originalValue,this.valueField.destroy(),this._createValueField(),this.add(this.valueField),Deft.Promise.when()},_onAncestorSelect:function(){var a=this.ancestorField.getValue()||"PortfolioItem/Feature";Rally.data.ModelFactory.getModel({type:a,success:function(a){if(this.model=a,this.name){var b=this.name.split(".");this.name=b.slice(-1)[0]}Deft.Promise.all([this._replacePropertyField(),this._replaceOperatorField(),this._replaceValueField()]).then({success:function(){delete this.originalName,delete this.originalOperator,delete this.originalValue,this._applyFilters(),this.propertyField.focus(!1,200)},scope:this})},scope:this})}}),Ext.define("CArABU.technicalservices.AncestorTemplateColumn",{extend:"Ext.grid.column.Template",alias:["widget.ancestortemplatecolumn"],align:"right",initComponent:function(){var a=this;a.tpl=new Ext.XTemplate('<tpl><div style="text-align:right;">{[this.getAncestorString(values)]}</div></tpl>',{ancestorName:a.ancestorName,getAncestorString:function(a){return a.FormattedID?Ext.String.format('<a href="{0}" target="blank">{1}</a>: {2}',Rally.util.Navigation.getDetailUrl(a),a.FormattedID,a.Name):""}}),a.hasCustomRenderer=!0,a.callParent(arguments)},getValue:function(){return values[this.dataIndex]||0},defaultRenderer:function(a,b,c){var d=Ext.apply({},c.get(this.ancestorName));return this.tpl.apply(d)}}),Ext.define("CArABU.technicalservices.FileUtilities",{singleton:!0,saveCSVToFile:function(a,b,c){void 0===c&&(c={type:"text/csv;charset=utf-8"}),this.saveAs(a,b,c)},saveAs:function(a,b){if(Ext.isIE9m)return void Rally.ui.notify.Notifier.showWarning({message:"Export is not supported for IE9 and below."});var c=null;try{c=new Blob([a],{type:"text/plain"})}catch(d){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,window.BlobBuilder&&"TypeError"===d.name&&(bb=new BlobBuilder,bb.append([a]),c=bb.getBlob("text/plain"))}if(!c)return void Rally.ui.notify.Notifier.showWarning({message:"Export is not supported for this browser."});var e=b;if(Ext.isIE10p)return void window.navigator.msSaveOrOpenBlob(c,e);var f=this.createObjectURL(c);if(f){var g=document.createElement("a");"download"in g?g.download=e:g.target="_blank",g.innerHTML="Download File",g.href=f,Ext.isChrome||(g.onclick=this.destroyClickedElement,g.style.display="none",document.body.appendChild(g)),g.click()}else Rally.ui.notify.Notifier.showError({message:"Export is not supported "})},createObjectURL:function(a){return window.webkitURL?window.webkitURL.createObjectURL(a):window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(a):null},destroyClickedElement:function(a){document.body.removeChild(a.target)}}),Ext.override(Rally.ui.grid.TreeGrid,{_mergeColumnConfigs:function(a,b){var c=_.map(a,function(a){var c=_.find(b,{dataIndex:this._getColumnName(a)});return c?this._getColumnConfigFromColumn(c):a},this);return c=c.concat(this.config.derivedColumns)},_getColumnConfigsBasedOnCurrentOrder:function(a){return _(this.headerCt.items.getRange()).map(function(b){return _.contains(a,b.dataIndex)?b.dataIndex:_.find(a,{dataIndex:b.dataIndex,text:b.text})}).compact().value()},_restoreColumnOrder:function(a){var b=this._getColumnConfigsBasedOnCurrentOrder(a),c=_.filter(a,function(a){return!_.find(b,{dataIndex:a.dataIndex})||Ext.isString(a)});return b.concat(c)},_applyStatefulColumns:function(a){this.alwaysShowDefaultColumns&&_.each(this.columnCfgs,function(b){_.any(a,{dataIndex:this._getColumnName(b)})||a.push(b)},this),this.config&&this.config.derivedColumns?this.columnCfgs=a.concat(this.config.derivedColumns):this.columnCfgs=a}}),Ext.override(Rally.ui.inlinefilter.AdvancedFilterRows,{_getRowConfig:function(){return Ext.merge({xtype:"rallyancestorfilterrow",autoExpand:this.autoExpand,model:this.model,context:this.context,focusPropertyField:!1,operatorFieldConfig:this.operatorFieldConfig,propertyFieldConfig:this.propertyFieldConfig,listeners:{addrow:function(){this._addRow(!0)},removerow:this._removeRow,scope:this}},this.rowConfig)}}),Ext.define("feature-ancestor-grid",{extend:"Rally.app.App",componentCls:"app",logger:new Rally.technicalservices.Logger,defaults:{margin:10},integrationHeaders:{name:"feature-ancestor-grid"},config:{defaultSettings:{query:""}},launch:function(){this.fetchPortfolioItemTypes().then({success:this.initializeApp,failure:this.showErrorNotification,scope:this})},showErrorNotification:function(a){Rally.ui.notify.Notifier.showError({message:a})},initializeApp:function(a){this.portfolioItemTypeDefs=Ext.Array.map(a,function(a){return a.getData()}),this.portfolioItemTypeDefs.shift(),this._buildGridboardStore()},getpiName:function(){return this.getPITypePath().replace("PortfolioItem/","")},getPITypePath:function(){return this.portfolioItemTypeDefs[0].TypePath},getPortfolioItemTypePaths:function(){return _.pluck(this.portfolioItemTypeDefs,"TypePath")},fetchPortfolioItemTypes:function(){return this.fetchWsapiRecords({model:"TypeDefinition",fetch:["TypePath","Ordinal","Name"],context:{workspace:this.getContext().getWorkspace()._ref},filters:[{property:"Parent.Name",operator:"=",value:"Portfolio Item"},{property:"Creatable",operator:"=",value:"true"}],sorters:[{property:"Ordinal",direction:"ASC"}]})},fetchSnapshots:function(a){var b=Ext.create("Deft.Deferred");return Ext.create("Rally.data.lookback.SnapshotStore",a).load({callback:function(a,c){c.wasSuccessful()?b.resolve(a):b.reject("Failed to load snapshots: ",c&&c.error&&c.error.errors.join(","))}}),b},getQueryFilter:function(){var a=this.getSetting("query");return a&&a.length>0?Rally.data.wsapi.Filter.fromQueryString(a):[]},_buildGridboardStore:function(){this.removeAll(),Ext.create("Rally.data.wsapi.TreeStoreBuilder").build({models:this.getModelNames(),enableHierarchy:!0,fetch:["Parent","ObjectID"],filters:this.getQueryFilter()}).then({success:this._addGridboard,failure:this.showErrorNotification,scope:this})},getModelNames:function(){return["portfolioitem/feature"]},getpiAncestorHash:function(){return this.piAncestorHash||(this.piAncestorHash={}),this.piAncestorHash},setAncestors:function(a){for(var b=this.getpiAncestorHash(),c=0;c<a.length;c++){var d=a[c],e=d.get("Parent");if(e){var f=e.ObjectID,g=b[f],h=this.portfolioItemTypeDefs[0].TypePath.toLowerCase().replace("portfolioitem/","");d.set(h,e);for(var i=1;i<this.portfolioItemTypeDefs.length;i++)h=this.portfolioItemTypeDefs[i].TypePath.toLowerCase().replace("portfolioitem/",""),g&&g[h]?d.set(h,g[h]):d.set(h,null)}}},updateHashWithWsapiRecords:function(a){var b={},c=[],d=this.getPortfolioItemTypePaths()[0].toLowerCase(),e=_.map(this.getPortfolioItemTypePaths(),function(a){return a.toLowerCase().replace("portfolioitem/","")});Ext.Array.each(a,function(a){Ext.Array.each(a,function(a){b[a.get("ObjectID")]=a.getData(),a.get("_type")===d&&c.push(a)})});var f=this.getpiAncestorHash();Ext.Array.each(c,function(a){var c=a.get("Parent")&&a.get("Parent").ObjectID||null,d=a.get("ObjectID");if(f[d]||(f[d]=b[d],Ext.Array.each(e,function(a){f[d][a]=null})),c&&f[d])do{var g=b[c]||null,h=b[c]&&b[c]._type.replace("portfolioitem/","");f[d]&&(f[d][h]=g,c=g&&g.Parent&&g.Parent.ObjectID||null)}while(null!==c)})},fetchAncestors:function(a){for(var b=Ext.create("Deft.Deferred"),c=[],d=0;d<this.getPortfolioItemTypePaths().length;d++){for(var e=this.getPortfolioItemTypePaths()[d],f=["ObjectID"],g=0;d>g;g++)f.unshift("Children");var h=f.join("."),i=_.map(a,function(a){return{property:h,value:a}});i=Rally.data.wsapi.Filter.or(i),c.push(this.fetchWsapiRecords({model:e,fetch:["FormattedID","Name","Parent","ObjectID"],enablePostGet:!0,limit:1/0,pageSize:1e3,context:{project:null},filters:i}))}return this.setLoading("Loading Ancestor data..."),Deft.Promise.all(c).then({success:function(a){b.resolve(a)},failure:this.showErrorNotification,scope:this}).always(function(){this.setLoading(!1)},this),b},updateFeatures:function(a,b,c,d){if(0!==c.length&&"portfolioitem/feature"===c[0].get("_type")){var e="Parent",f=this.getpiAncestorHash(),g=[];Ext.Array.each(c,function(a){var b=a.get(e);b&&!f[b.ObjectID]&&(Ext.Array.contains(g,b.ObjectID)||g.push(b.ObjectID))},this),g.length>0?this.fetchAncestors(g).then({success:function(a){this.updateHashWithWsapiRecords(a),this.setAncestors(c)},failure:this.showErrorNotification,scope:this}):this.setAncestors(c)}},_addGridboard:function(a){for(var b=0;b<this.portfolioItemTypeDefs.length;b++){var c=this.portfolioItemTypeDefs[b].Name.toLowerCase();a.model.addField({name:c,type:"auto",defaultValue:null})}a.on("load",this.updateFeatures,this),this.add({xtype:"rallygridboard",context:this.getContext(),modelNames:this.getModelNames(),toggleState:"grid",plugins:this.getGridPlugins(),stateful:!1,gridConfig:{store:a,storeConfig:{filters:this.getQueryFilter()},columnCfgs:this.getColumnConfigs(),derivedColumns:this.getDerivedColumns()},height:this.getHeight()})},getGridPlugins:function(){return[{ptype:"rallygridboardaddnew"},{ptype:"rallygridboardfieldpicker",headerPosition:"left",modelNames:this.getModelNames(),alwaysSelectedValues:["Parent"],stateful:!0,margin:"3 3 3 25",stateId:this.getContext().getScopedStateId("ancestor-columns-1")},{ptype:"rallygridboardinlinefiltercontrol",inlineFilterButtonConfig:{stateful:!0,stateId:this.getContext().getScopedStateId("ancestor-filters"),modelNames:this.getModelNames(),margin:3,inlineFilterPanelConfig:{quickFilterPanelConfig:{defaultFields:["ArtifactSearch","Owner","Release"]},advancedFilterPanelConfig:{advancedFilterRowsConfig:{flex:2}}}}},{ptype:"rallygridboardactionsmenu",menuItems:[{text:"Export...",handler:this._export,scope:this}],buttonConfig:{margin:3,iconCls:"icon-export"}}]},getExportFilters:function(){var a=this.getQueryFilter(),b=this.down("rallygridboard").currentCustomFilter.filters||[];return a.length>0&&b.length>0?a=a.and(b):b.length>0&&(a=b),a},updateExportFeatures:function(a){var b=Ext.create("Deft.Deferred");(0===a.length||"portfolioitem/feature"!==a[0].get("_type"))&&b.resolve([]);var c="Parent",d=this.getpiAncestorHash(),e=[];return Ext.Array.each(a,function(a){var b=a.get(c);b&&!d[b.ObjectID]&&(Ext.Array.contains(e,b.ObjectID)||e.push(b.ObjectID))},this),e.length>0?this.fetchAncestors(e).then({success:function(c){this.updateHashWithWsapiRecords(c),this.setAncestors(a),b.resolve(a)},failure:function(a){b.reject(a)},scope:this}):(this.setAncestors(a),b.resolve(a)),b},_export:function(){var a=this.getExportFilters(),b=this.down("rallytreegrid").columns,c=_.filter(b,function(a){return"Rank"!==a.text&&("rallyfieldcolumn"===a.xtype||"treecolumn"===a.xtype)}),d=this.getDerivedColumns(),e=Ext.Array.merge(c,d),f=_.pluck(c,"dataIndex");f.push("ObjectID"),Ext.Array.contains(f,"Parent")||f.push("Parent"),this.setLoading("Loading data to export..."),this.fetchWsapiRecords({model:"Portfolio Item/Feature",fetch:f,filters:a,limit:"Infinity"}).then({success:this.updateExportFeatures,scope:this}).then({success:function(a){var b=this.getExportCSV(a,e),c=Ext.String.format("export-{0}.csv",Ext.Date.format(new Date,"Y-m-d-h-i-s"));CArABU.technicalservices.FileUtilities.saveCSVToFile(b,c)},failure:this.showErrorNotification,scope:this}).always(function(){this.setLoading(!1)},this)},getExportCSV:function(a,b){var c=_.filter(b,function(a){return a.dataIndex||null}),d=_.map(c,function(a){return"ID"===a.text?"Formatted ID":a.text}),e=_.map(c,function(a){return a.dataIndex}),f=this.getDerivedColumns();Ext.Array.each(f,function(a){d.push(a.text)});for(var g=[d.join(",")],h=0;h<a.length;h++){for(var i=[],j=a[h],k=0;k<e.length;k++){var l=j.get(e[k]);Ext.isObject(l)&&(l=l.FormattedID||l._refObjectName),i.push(l||"")}Ext.Array.each(f,function(a){var b=j.get(a.ancestorName);b?i.push(Ext.String.format("{0}: {1}",b.FormattedID,b.Name)):i.push("")}),i=_.map(i,function(a){return Ext.String.format('"{0}"',a.toString().replace(/"/g,'""'))}),g.push(i.join(","))}return g.join("\r\n")},getColumnConfigs:function(){var a=[{dataIndex:"Name",text:"Name"},{dataIndex:"State",text:"State"},{dataIndex:"Release",text:"Release"},{dataIndex:this.getpiName(),text:this.getpiName()}].concat(this.getDerivedColumns());return a},getDerivedColumns:function(){for(var a=[],b=0;b<this.portfolioItemTypeDefs.length;b++){var c=this.portfolioItemTypeDefs[b].TypePath.toLowerCase().replace("portfolioitem/","");a.push({ancestorName:c,xtype:"ancestortemplatecolumn",text:this.portfolioItemTypeDefs[b].Name})}return a},fetchWsapiRecords:function(a){var b=Ext.create("Deft.Deferred");return Ext.create("Rally.data.wsapi.Store",a).load({callback:function(c,d){d.wasSuccessful()?b.resolve(c):b.reject(Ext.String.format("Failed to fetch {0} records: {1}",a.model,d&&d.error&&d.error.errors.join(",")))}}),b},getOptions:function(){return[{text:"About...",handler:this._launchInfo,scope:this}]},getSettingsFields:function(){return[{xtype:"textarea",fieldLabel:"Query Filter",name:"query",anchor:"100%",cls:"query-field",margin:"0 70 0 0",labelAlign:"right",labelWidth:100,plugins:[{ptype:"rallyhelpfield",helpId:194},"rallyfieldvalidationui"],validateOnBlur:!1,validateOnChange:!1,validator:function(a){try{return a&&Rally.data.wsapi.Filter.fromQueryString(a),!0}catch(b){return b.message}}}]},_launchInfo:function(){this.about_dialog&&this.about_dialog.destroy(),this.about_dialog=Ext.create("Rally.technicalservices.InfoLink",{})},isExternal:function(){return"undefined"==typeof this.getAppId()},onSettingsUpdate:function(a){this._buildGridboardStore()}});

               Rally.launchApp('feature-ancestor-grid', {
                   name: 'feature-ancestor-grid'
               });
        });
    </script>

    <style type="text/css">

.app {
}
.tsinfolink {
    position:absolute;
    right:0px;
    width: 14px;
    height: 14px;
    border-radius: 7px;
    text-align: center;
    color: white;
    background: #C0C0C0;
    border-style: solid;
    border-width: 1px;
    margin-top: 25px;
    margin-right: 5px;
    cursor: pointer;
}
    </style>

</head>
<body></body>
</html>